<!-- Modal d'inscription -->
<div class="register-modal" (click)="closeRegisterModal()">
  <div class="register-container" (click)="$event.stopPropagation()">
    <!-- Header avec bouton fermer -->
    <div class="register-header-top">
      <h2>âœ¨ CrÃ©er un compte</h2>
      <button type="button" class="btn-close-modal" (click)="closeRegisterModal()" title="Fermer">
        âœ•
      </button>
    </div>

    <!-- Header -->
    <div class="register-header">
      <p>Rejoignez la communautÃ© Plan & Go</p>
    </div>

    <!-- Formulaire -->
    <form (ngSubmit)="register()" class="register-form">
      <!-- Nom -->
      <div class="form-group">
        <label for="firstName">Nom</label>
        <input
          id="firstName"
          type="text"
          [ngModel]="firstName()"
          (ngModelChange)="firstName.set($event)"
          name="firstName"
          placeholder="firstName"
          required
          [disabled]="loading()">
      </div>

      <!-- PrÃ©nom -->
      <div class="form-group">
        <label for="lastName">PrÃ©nom</label>
        <input
          id="lastName"
          type="text"
          [ngModel]="lastName()"
          (ngModelChange)="lastName.set($event)"
          name="lastName"
          placeholder="lastName"
          required
          [disabled]="loading()">
      </div>

      <!-- Email -->
      <div class="form-group">
        <label for="email">Email</label>
        <input
          id="email"
          type="email"
          [ngModel]="email()"
          (ngModelChange)="email.set($event)"
          name="email"
          placeholder="votre@email.com"
          required
          [disabled]="loading()">
      </div>

      <!-- Mot de passe -->
      <div class="form-group">
        <label for="password">Mot de passe</label>
        <div class="password-input">
          <input
            id="password"
            [type]="showPassword() ? 'text' : 'password'"
            [ngModel]="password()"
            (ngModelChange)="password.set($event)"
            name="password"
            placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
            required
            [disabled]="loading()">
          <button
            type="button"
            class="toggle-password"
            (click)="togglePasswordVisibility()"
            [disabled]="loading()">
            {{ showPassword() ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}
          </button>
        </div>
      </div>

      <!-- Confirmer mot de passe -->
      <div class="form-group">
        <label for="passwordConfirm">Confirmer le mot de passe</label>
        <div class="password-input">
          <input
            id="passwordConfirm"
            [type]="showPasswordConfirm() ? 'text' : 'password'"
            [ngModel]="passwordConfirm()"
            (ngModelChange)="passwordConfirm.set($event)"
            name="passwordConfirm"
            placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
            required
            [disabled]="loading()">
          <button
            type="button"
            class="toggle-password"
            (click)="togglePasswordConfirmVisibility()"
            [disabled]="loading()">
            {{ showPasswordConfirm() ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}
          </button>
        </div>
      </div>

      <!-- Message d'erreur -->
      <div *ngIf="error()" class="error-message">
        âŒ {{ error() }}
      </div>

      <!-- Bouton d'inscription -->
      <button
        type="submit"
        class="btn-register"
        [disabled]="loading()">
        {{ loading() ? 'Inscription en cours...' : 'CrÃ©er un compte' }}
      </button>
    </form>

    <!-- Lien connexion -->
    <div class="register-footer">
      <p>DÃ©jÃ  inscrit? <a href="#" (click)="goToLogin(); $event.preventDefault()" class="link-login">Se connecter</a></p>
    </div>
  </div>
</div>
